//
//  TestRepository.swift
//
//  Created by Dmitry Kalashnikov on 24.03.2025.
//

import Foundation

enum TestError: Error {
    case errorStub
}

// IMPORTANT: - These is needed only for Preview working.

final class TestCoinRepository: CoinRepositoryInterface {
    func getGrapchCache(for coinId: String) async -> MarketData? {
        .init(prices: [])
    }
    
    func fetchGraphPoints(for coinId: String) async throws -> MarketData {
        .init(prices: [
            [
                1742757369036,
                85062.90865202155
            ],
            [
                1742757637092,
                85020.53346086734
            ],
            [
                1742757987547,
                84996.88136112296
            ],
            [
                1742758264418,
                84969.60107731423
            ],
            [
                1742758526374,
                84981.25160493315
            ],
            [
                1742758856845,
                85024.27675374996
            ],
            [
                1742759177478,
                85008.05229086604
            ],
            [
                1742759439416,
                85024.64269815302
            ],
            [
                1742759763930,
                85026.77779302429
            ],
            [
                1742760027997,
                85011.00877668706
            ],
            [
                1742760353733,
                85187.76229542104
            ],
            [
                1742760670235,
                85172.80646185979
            ],
            [
                1742760961451,
                85120.5537768196
            ],
            [
                1742761255171,
                85171.96703522032
            ],
            [
                1742761589328,
                85152.13615968374
            ],
            [
                1742761888534,
                85187.62035967507
            ],
            [
                1742762147614,
                85245.45240537726
            ],
            [
                1742762480437,
                85207.08847007889
            ],
            [
                1742762796560,
                85227.68318290364
            ],
            [
                1742763076357,
                85231.34635250448
            ],
            [
                1742763330357,
                85156.93027621895
            ],
            [
                1742763700907,
                85096.20081882877
            ],
            [
                1742763929409,
                85050.65759373661
            ],
            [
                1742764227259,
                85014.80260611109
            ],
            [
                1742764589991,
                84943.57623336092
            ],
            [
                1742764820192,
                84955.51651759214
            ],
            [
                1742765142319,
                85017.37982507072
            ],
            [
                1742765550074,
                85002.81028496736
            ],
            [
                1742765740094,
                85031.08050507774
            ],
            [
                1742766065833,
                85057.13665986565
            ],
            [
                1742766330478,
                85031.41099705224
            ],
            [
                1742766671916,
                85069.16603620115
            ],
            [
                1742766992931,
                85149.66177242399
            ],
            [
                1742767265024,
                85194.14813792474
            ],
            [
                1742767568548,
                85246.2205655923
            ],
            [
                1742767906901,
                85387.6572180855
            ],
            [
                1742768210805,
                85413.8963015004
            ],
            [
                1742768426625,
                85629.5919157238
            ],
            [
                1742768769251,
                85472.42329663914
            ],
            [
                1742769023018,
                85493.85226167554
            ],
            [
                1742769370614,
                85516.43788719222
            ],
            [
                1742769646705,
                85476.8266951228
            ],
            [
                1742769941250,
                85362.87175612066
            ],
            [
                1742770279453,
                85290.38335811086
            ],
            [
                1742770589078,
                85391.01934626776
            ],
            [
                1742770903305,
                85396.29041826307
            ],
            [
                1742771214934,
                85507.35702509472
            ],
            [
                1742771431805,
                85496.48206503961
            ],
            [
                1742771757926,
                85484.60407150802
            ],
            [
                1742772070457,
                85619.20451838078
            ],
            [
                1742772366720,
                85644.98888611996
            ],
            [
                1742772738206,
                85767.26115842433
            ],
            [
                1742773015084,
                85826.20845068831
            ],
            [
                1742773281413,
                85702.42125511085
            ],
            [
                1742773546637,
                85685.1421214317
            ],
            [
                1742773873301,
                85660.97557595435
            ],
            [
                1742774198865,
                85787.70914901773
            ],
            [
                1742774470604,
                86114.33370456511
            ],
            [
                1742774788718,
                85964.46953444983
            ],
            [
                1742775175984,
                85922.98486898851
            ],
            [
                1742775409026,
                86001.6904638002
            ],
            [
                1742775715491,
                86133.17450876045
            ],
            [
                1742775962596,
                86224.60279772003
            ],
            [
                1742776282733,
                86404.36537133748
            ],
            [
                1742776558890,
                86640.28786623552
            ],
            [
                1742776936756,
                86212.80718476782
            ],
            [
                1742777183246,
                86223.12623871247
            ],
            [
                1742777459764,
                86162.20354556055
            ],
            [
                1742777787052,
                86186.64875264467
            ],
            [
                1742778103101,
                85939.04309041053
            ],
            [
                1742778336416,
                85858.27751657135
            ],
            [
                1742778687751,
                85733.62453478914
            ],
            [
                1742779008129,
                85869.43199564282
            ],
            [
                1742779310407,
                85846.16777097664
            ],
            [
                1742779530447,
                85856.80295758933
            ],
            [
                1742779865668,
                85598.16774236847
            ],
            [
                1742780219391,
                85672.30649256412
            ],
            [
                1742780493868,
                85589.69144747782
            ],
            [
                1742780720793,
                85627.46813327521
            ],
            [
                1742781027402,
                85684.19478382317
            ],
            [
                1742781345586,
                85647.18923400927
            ],
            [
                1742781651737,
                85560.23956148796
            ],
            [
                1742781964180,
                85662.36414225132
            ],
            [
                1742782271797,
                85715.79465105751
            ],
            [
                1742782571174,
                85728.993070409
            ],
            [
                1742782971227,
                85683.44163630727
            ],
            [
                1742783129179,
                85639.63834083035
            ],
            [
                1742783443319,
                85707.449662319
            ],
            [
                1742783721332,
                85704.27420533364
            ],
            [
                1742784034391,
                85695.59652562447
            ],
            [
                1742784339591,
                85762.2287628642
            ],
            [
                1742784724790,
                85858.291082158
            ],
            [
                1742784990517,
                85912.813625936
            ],
            [
                1742785255078,
                85883.039117483
            ],
            [
                1742785571859,
                86035.52634533912
            ],
            [
                1742785959282,
                86166.71462430702
            ],
            [
                1742786201315,
                86185.2699344352
            ],
            [
                1742786503796,
                86341.58843494982
            ],
            [
                1742786817166,
                86309.6278941209
            ],
            [
                1742787067126,
                86381.78472042781
            ],
            [
                1742787404549,
                86363.02337606857
            ],
            [
                1742787690606,
                86302.80985675936
            ],
            [
                1742787970005,
                86289.32667513413
            ],
            [
                1742788247762,
                86262.38484150206
            ],
            [
                1742788577146,
                86503.79798881289
            ],
            [
                1742788889976,
                86587.00817085963
            ],
            [
                1742789198948,
                86748.2889342747
            ],
            [
                1742789517289,
                86677.45426904342
            ],
            [
                1742789779366,
                86665.36272645534
            ],
            [
                1742790081261,
                86695.27358467881
            ],
            [
                1742790363244,
                86742.81137868948
            ],
            [
                1742790701329,
                86723.22038268122
            ],
            [
                1742790933900,
                86749.98826110439
            ],
            [
                1742791233236,
                86692.24120298588
            ],
            [
                1742791565290,
                86850.78367599551
            ],
            [
                1742791882225,
                86901.81766311634
            ],
            [
                1742792198397,
                86847.6573265773
            ],
            [
                1742792546118,
                86894.07650042877
            ],
            [
                1742792763408,
                86989.54141870674
            ],
            [
                1742793099050,
                86923.12177538198
            ],
            [
                1742793402967,
                86973.26371573999
            ],
            [
                1742793641553,
                87003.42966369867
            ],
            [
                1742793959849,
                86895.62413714982
            ],
            [
                1742794278511,
                86894.21446390681
            ],
            [
                1742794535224,
                86864.25836173659
            ],
            [
                1742794909831,
                86913.4859021179
            ],
            [
                1742795187969,
                86947.09384990422
            ],
            [
                1742795507960,
                86908.46286700624
            ],
            [
                1742795790834,
                86884.85266978681
            ],
            [
                1742796098606,
                86946.04244661995
            ],
            [
                1742796358658,
                87012.28798025122
            ],
            [
                1742796663991,
                87125.92180400621
            ],
            [
                1742797006258,
                87205.36925120461
            ],
            [
                1742797378325,
                87045.694137807
            ],
            [
                1742797579561,
                87007.85282830404
            ],
            [
                1742797888557,
                87009.34220964076
            ],
            [
                1742798197070,
                86932.62826484915
            ],
            [
                1742798520393,
                86946.93835883147
            ],
            [
                1742798765481,
                87040.54539101683
            ],
            [
                1742799071223,
                87064.51107821599
            ],
            [
                1742799397272,
                87121.26390189724
            ],
            [
                1742799637276,
                87126.56799401094
            ],
            [
                1742799971764,
                87164.41622987685
            ],
            [
                1742800382367,
                86973.90124116371
            ],
            [
                1742800527376,
                87037.31768357253
            ],
            [
                1742800868023,
                87064.37691292306
            ],
            [
                1742801179582,
                86957.74327001596
            ],
            [
                1742801558651,
                86869.23928347988
            ],
            [
                1742801744210,
                86808.6033931091
            ],
            [
                1742802075653,
                86771.3327536276
            ],
            [
                1742802349667,
                86812.03939151992
            ],
            [
                1742802687993,
                86964.93016639032
            ],
            [
                1742802930414,
                86992.09547472086
            ],
            [
                1742803298618,
                86920.8479422127
            ],
            [
                1742803610233,
                87083.94017266696
            ],
            [
                1742803911076,
                87157.40407974995
            ],
            [
                1742804465244,
                87228.88115223331
            ],
            [
                1742804812392,
                87338.20914085752
            ],
            [
                1742805062680,
                87432.41084693845
            ],
            [
                1742805336144,
                87276.014756837
            ],
            [
                1742805651713,
                87405.10629970323
            ],
            [
                1742805943960,
                87373.83594828582
            ],
            [
                1742806296961,
                87489.02377824535
            ],
            [
                1742806614302,
                87505.92214747106
            ],
            [
                1742806857813,
                87419.9071984332
            ],
            [
                1742807193350,
                87402.70348680776
            ],
            [
                1742807465903,
                87338.23337224039
            ],
            [
                1742807757556,
                87340.05172635081
            ],
            [
                1742808083433,
                87316.3733831905
            ]
        ])
    }
    
    func fetchCoins(page: Int, pageLimit: Int) async throws -> [Coin] {
        [ .init(id: "usdId", symbol: "$", name: "USD", currentPrice: 100, priceChangePercentage24H: -20, image: "https://coin-images.coingecko.com/coins/images/1/large/bitcoin.png?1696501400"),
          .init(id: "usdId", symbol: "$", name: "USD", currentPrice: 100, priceChangePercentage24H: -20, image: "https://coin-images.coingecko.com/coins/images/1/large/bitcoin.png?1696501400"),
          .init(id: "usdId", symbol: "$", name: "USD", currentPrice: 100, priceChangePercentage24H: -20, image: "https://coin-images.coingecko.com/coins/images/1/large/bitcoin.png?1696501400"),
          .init(id: "usdId", symbol: "$", name: "USD", currentPrice: 100, priceChangePercentage24H: -20, image: "https://coin-images.coingecko.com/coins/images/1/large/bitcoin.png?1696501400"),
          .init(id: "usdId", symbol: "$", name: "USD", currentPrice: 100, priceChangePercentage24H: -20, image: "https://coin-images.coingecko.com/coins/images/1/large/bitcoin.png?1696501400")]
    }
}


